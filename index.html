<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Brainrot Shop</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; background: #111; color: #fff; }
    header { padding: 20px; background: #222; text-align: center; font-size: 2rem; }
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; padding: 20px; }
    .item { background: #1a1a1a; padding: 20px; border-radius: 12px; text-align: center; }
    .item img { width: 100%; border-radius: 10px; }
    button { margin-top: 10px; padding: 10px 20px; border: none; background: #ff3cc7; color: #000; font-weight: bold; border-radius: 8px; cursor: pointer; }
    button:hover { opacity: 0.8; }
    #adminPanel { display:none; position:fixed; top:20px; right:20px; background:#222; padding:20px; border-radius:12px; width:300px; box-shadow:0 0 10px #000; z-index:1000; }
  </style>
</head>
<body>
  <header>Brainrot Shop</header>

  <div class="grid"></div>

  <div id="adminLogin" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:#000c; backdrop-filter:blur(5px); display:flex; align-items:center; justify-content:center; z-index:9999;">
    <div style="background:#222; padding:30px; border-radius:12px; width:300px; text-align:center;">
      <h2>Admin Login</h2>
      <input id="adminPass" type="password" placeholder="Enter Password" style="width:100%; padding:10px; margin-top:10px; border-radius:8px; border:none;">
      <button onclick="checkPass()" style="margin-top:15px; padding:10px 20px; border:none; background:#ff3cc7; font-weight:bold; border-radius:8px; cursor:pointer;">Login</button>
    </div>
  </div>

  <div id="adminPanel">
    <h2>Admin Panel</h2>
    <h3>Page Settings</h3>
    <label>Background Color:<br><input id="bgColor" type="text" placeholder="#111" style="width:100%"></label><br><br>
    <button onclick="changeBG()">Apply Background</button>
    <hr style="margin:15px 0; border-color:#444;">

    <h3>Search Items</h3>
    <input id="searchBox" type="text" placeholder="Search items..." oninput="searchItems()" style="width:100%; margin-bottom:10px;">
    <hr style="margin:15px 0; border-color:#444;">

    <h3>Add / Edit Items</h3>
    <label>Name:<br><input id="itemName" type="text" style="width:100%"></label><br><br>
    <label>Price:<br><input id="itemPrice" type="number" style="width:100%"></label><br><br>
    <label>Image URL:<br><input id="itemImage" type="text" style="width:100%"></label><br><br>

    <button onclick="addItem()">Add Item</button>
    <br><br>
    <button onclick="removeLastItem()">Remove Last Item</button>
    <br><br>
    <button onclick="saveEdit()">Save Edit</button>
  </div>

  <script>
  (function(){
    const _0xpass = '00046974';
    if(localStorage.getItem('adminAccess')==='true'){
      document.getElementById('adminPanel').style.display='none';
    }

    window.checkPass = function(){
      const p = document.getElementById('adminPass').value;
      if(p === _0xpass){
        document.getElementById('adminLogin').style.display='none';
        document.getElementById('adminPanel').style.display='none';
        localStorage.setItem('adminAccess','true');
      } else alert('Incorrect password');
    };
  })();

  let __endPressed=false, __delPressed=false;
  document.addEventListener('keydown',(e)=>{
    if(e.key==='End') __endPressed=true;
    if(e.key==='Delete') __delPressed=true;
    if(__endPressed && __delPressed){
      document.getElementById('adminLogin').style.display='flex';
      __endPressed=false;
      __delPressed=false;
    }
  });

  function changeBG(){
    const color=document.getElementById('bgColor').value;
    if(color) document.body.style.background=color;
  }
  function searchItems(){
    const term=document.getElementById('searchBox').value.toLowerCase();
    document.querySelectorAll('.item').forEach(i=>{
      const name=i.querySelector('h3').textContent.toLowerCase();
      i.style.display=name.includes(term)?'block':'none';
    });
  }

  function addItem(){
    const name=document.getElementById('itemName').value;
    const price=document.getElementById('itemPrice').value;
    const img=document.getElementById('itemImage').value;
    if(!name||!price||!img) return alert('Fill all fields');
    const grid=document.querySelector('.grid');
    const div=document.createElement('div');
    div.className='item';
    div.innerHTML=`<img src="${img}" alt="Brainrot Item" /><h3>${name}</h3><p>$${price}</p><button>Buy Now</button>`;
    grid.appendChild(div);
    div.addEventListener('click',()=>editItem(div));
  }

  function removeLastItem(){
    const grid=document.querySelector('.grid');
    if(grid.lastElementChild) grid.removeChild(grid.lastElementChild);
  }

  let __editingItem=null;
  function editItem(div){
    document.getElementById('itemName').value=div.querySelector('h3').textContent;
    document.getElementById('itemPrice').value=div.querySelector('p').textContent.replace('$','');
    document.getElementById('itemImage').value=div.querySelector('img').src;
    __editingItem=div;
  }

  function saveEdit(){
    if(!__editingItem) return alert('No item selected');
    const name=document.getElementById('itemName').value;
    const price=document.getElementById('itemPrice').value;
    const img=document.getElementById('itemImage').value;
    __editingItem.querySelector('h3').textContent=name;
    __editingItem.querySelector('p').textContent=`$${price}`;
    __editingItem.querySelector('img').src=img;
  }
  </script>
</body>
</html>
